"use strict";(self.webpackChunkMyMovieDB=self.webpackChunkMyMovieDB||[]).push([[455],{9455:(S,l,s)=>{s.r(l),s.d(l,{SettingsModule:()=>v});var c=s(9808),u=s(3018),d=s(3158),e=s(4893),g=s(6238);function p(n,o){if(1&n&&(e.TgZ(0,"div",4)(1,"h3",5),e._uU(2),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.gettingInfoErr)}}function h(n,o){if(1&n&&(e.TgZ(0,"div",6)(1,"div",7),e._UZ(2,"img",8),e.TgZ(3,"h3",9),e._uU(4),e.qZA()()()),2&n){const t=o.$implicit,i=e.oxw();e.xp6(2),e.Q6J("src",i.imagePrefix+t.imgUrl,e.LSH)("alt",t.title),e.xp6(2),e.Oqu(t.movieName)}}const m=[{path:"",redirectTo:"profile",pathMatch:"full"},{path:"profile",component:(()=>{class n{constructor(t){this._AuthenticationService=t,this.idsAndSrc=[]}ngOnInit(){this.currentUser=this._AuthenticationService.currentUser.getValue(),this.checkTheLocal()}checkTheLocal(){null!=localStorage.getItem("idsandsrc")&&(this.idsAndSrc=JSON.parse(localStorage.getItem("idsandsrc")));let t=this.checkIfCurrentUser();""!=t&&(this.filePath=t,this.setCurrentImage())}openBrowse(){var t,i;null===(t=document.getElementById("input"))||void 0===t||t.click(),null===(i=document.querySelector(".myBtn"))||void 0===i||i.classList.remove("d-none")}handleUpload1(t){if(t.target.files&&t.target.files[0]){var i=new FileReader;i.onload=r=>{console.log(r.target),this.filePath=r.target.result,console.log("Two: ",this.filePath),this.setCurrentImage()},i.readAsDataURL(t.target.files[0]),console.log("Two: ",this.filePath)}}checkIfCurrentUser(){for(let t=0;t<this.idsAndSrc.length;t++)if(this.idsAndSrc[t].id==this.currentUser._id)return this.idsAndSrc[t].src;return""}setCurrentImage(){document.getElementById("userImage").src=this.filePath,this.setCurrentElement()}setCurrentElement(){for(let i=0;i<this.idsAndSrc.length;i++)if(this.idsAndSrc[i].id==this.currentUser._id)return this.idsAndSrc[i].src=this.filePath,void localStorage.setItem("idsandsrc",JSON.stringify(this.idsAndSrc));this.idsAndSrc.push({id:this.currentUser._id,src:this.filePath}),localStorage.setItem("idsandsrc",JSON.stringify(this.idsAndSrc))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.$))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-profile"]],decls:25,vars:4,consts:[[1,"container"],[1,"row","align-items-center"],[1,"col-md-3"],[1,"profileImage","position-relative","bg-secondary","d-flex","align-items-center"],["src","assets/images/user.png","id","userImage","alt","profileImage",1,"w-100"],["type","file","id","input","accept","image/*",1,"d-none",3,"change"],["title","pick up new one",1,"layer","position-absolute","top-0","end-0","start-0","bottom-0",3,"click"],[1,"col-md-9"],[1,"info"],[1,"h6"],[1,"text-muted","fw-bolder","ms-2"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"img",4),e.TgZ(5,"input",5),e.NdJ("change",function(a){return i.handleUpload1(a)}),e.qZA(),e.TgZ(6,"div",6),e.NdJ("click",function(){return i.openBrowse()}),e.qZA()()(),e.TgZ(7,"div",7)(8,"section",8)(9,"h3",9),e._uU(10,"First Name: "),e.TgZ(11,"span",10),e._uU(12),e.qZA()(),e.TgZ(13,"h3",9),e._uU(14,"Last Name: "),e.TgZ(15,"span",10),e._uU(16),e.qZA()(),e.TgZ(17,"h3",9),e._uU(18,"Age: "),e.TgZ(19,"span",10),e._uU(20),e.qZA()(),e.TgZ(21,"h3",9),e._uU(22,"Email: "),e.TgZ(23,"span",10),e._uU(24),e.qZA()()()()()()),2&t&&(e.xp6(12),e.Oqu(i.currentUser.first_name),e.xp6(4),e.Oqu(i.currentUser.last_name),e.xp6(4),e.Oqu(i.currentUser.age),e.xp6(4),e.Oqu(i.currentUser.email))},styles:[".layer[_ngcontent-%COMP%]{background-image:url(bickup.3b243d75f573f115.png);background-size:100% 100%;background-position:center center;background-repeat:no-repeat no-repeat;opacity:0;transition:.5s all;cursor:pointer}.profileImage[_ngcontent-%COMP%]{min-height:350px}.profileImage[_ngcontent-%COMP%]:hover   .layer[_ngcontent-%COMP%]{opacity:.5}"]}),n})()},{path:"favourites",component:(()=>{class n{constructor(t){this._AuthenticationService=t,this.gettingInfoErr="",this.imagePrefix="https://image.tmdb.org/t/p/original"}ngOnInit(){let t=localStorage.getItem("token");t=t.slice(1,t.length-1);let i=this._AuthenticationService.currentUser.getValue()._id;console.log(i),this._AuthenticationService.getFavourites(t).subscribe(r=>{if("success"==r.message){this.favourites=r.Favorites,console.log("response: ",this.favourites);for(let a=0;a<this.favourites.length;a++)r.Favorites[a]._id==i&&console.log(r.Favorites[a])}else this.gettingInfoErr="Error has been occurred.. please wait",setTimeout(()=>{location.reload()},2e3)},r=>{console.log("error: ",r),this.gettingInfoErr=r.message,console.log(this.gettingInfoErr)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.$))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-favourites"]],decls:4,vars:2,consts:[["class","alert alert-danger p-3",4,"ngIf"],[1,"container"],[1,"row"],["class","col-md-3",4,"ngFor","ngForOf"],[1,"alert","alert-danger","p-3"],[1,"text-center","text-white"],[1,"col-md-3"],[1,"eachFav"],[1,"w-100",3,"src","alt"],[1,"text-white","text-center"]],template:function(t,i){1&t&&(e.YNc(0,p,3,1,"div",0),e.TgZ(1,"div",1)(2,"div",2),e.YNc(3,h,5,3,"div",3),e.qZA()()),2&t&&(e.Q6J("ngIf",i.gettingInfoErr),e.xp6(3),e.Q6J("ngForOf",i.favourites))},directives:[c.O5,c.sg],styles:[""]}),n})()},{path:"**",component:d.w}];let f=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[u.Bz.forChild(m)],u.Bz]}),n})(),v=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[c.ez,f]]}),n})()}}]);